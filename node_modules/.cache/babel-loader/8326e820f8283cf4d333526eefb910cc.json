{"ast":null,"code":"import _defineProperty from \"/srv/swarnika_new/top_q_website/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _regeneratorRuntime from \"/srv/swarnika_new/top_q_website/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/srv/swarnika_new/top_q_website/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/srv/swarnika_new/top_q_website/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/srv/swarnika_new/top_q_website/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _assertThisInitialized from \"/srv/swarnika_new/top_q_website/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"/srv/swarnika_new/top_q_website/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/srv/swarnika_new/top_q_website/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nvar _jsxFileName = \"/srv/swarnika_new/top_q_website/src/app/views/sessions/VerifyEmail.jsx\";\nimport React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar VerifyEmail = /*#__PURE__*/function (_Component) {\n  _inherits(VerifyEmail, _Component);\n\n  var _super = _createSuper(VerifyEmail);\n\n  function VerifyEmail(props) {\n    var _this;\n\n    _classCallCheck(this, VerifyEmail);\n\n    _this = _super.call(this, props);\n\n    _this.performVerify = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(event) {\n        var data, options, url, response, result;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                event.preventDefault();\n                data = {\n                  emailid: _this.props.email,\n                  otp: _this.state.registrationotp\n                };\n                options = {\n                  method: \"POST\",\n                  headers: {\n                    \"Content-Type\": \"application/json\",\n                    Accept: \"application/json\"\n                  },\n                  body: JSON.stringify(data)\n                };\n                url = \"/user/verifyEmail\";\n                _context.prev = 4;\n                _context.next = 7;\n                return fetch(url, options);\n\n              case 7:\n                response = _context.sent;\n                _context.next = 10;\n                return response.json();\n\n              case 10:\n                result = _context.sent;\n                console.log(result);\n\n                if (!(result.data === \"verified\")) {\n                  _context.next = 14;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", /*#__PURE__*/_jsxDEV(Redirect, {\n                  to: \"/login\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 35,\n                  columnNumber: 16\n                }, _assertThisInitialized(_this)));\n\n              case 14:\n                _context.next = 19;\n                break;\n\n              case 16:\n                _context.prev = 16;\n                _context.t0 = _context[\"catch\"](4);\n                console.error(_context.t0);\n\n              case 19:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[4, 16]]);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.state = {\n      otp: \"\"\n    };\n    _this.onchange = _this.onchange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(VerifyEmail, [{\n    key: \"onchange\",\n    value: function onchange(e) {\n      this.setState(_defineProperty({}, e.target.name, e.target.value));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"otp\",\n          placeholder: \"emnter otp\",\n          onChange: this.onchange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          onClick: function onClick(event) {\n            return _this2.performVerify(event);\n          },\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 7\n      }, this);\n    }\n  }]);\n\n  return VerifyEmail;\n}(Component);\n\nexport default VerifyEmail;","map":{"version":3,"names":["React","Component","Redirect","VerifyEmail","props","performVerify","event","preventDefault","data","emailid","email","otp","state","registrationotp","options","method","headers","Accept","body","JSON","stringify","url","fetch","response","json","result","console","log","error","onchange","bind","e","setState","target","name","value"],"sources":["/srv/swarnika_new/top_q_website/src/app/views/sessions/VerifyEmail.jsx"],"sourcesContent":["import React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nclass VerifyEmail extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      otp: \"\"\n    };\n    this.onchange = this.onchange.bind(this);\n  }\n  onchange(e) {\n    this.setState({ [e.target.name]: e.target.value });\n  }\n  performVerify = async event => {\n    event.preventDefault();\n\n    var data = {\n      emailid: this.props.email,\n      otp: this.state.registrationotp\n    };\n    const options = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\"\n      },\n      body: JSON.stringify(data)\n    };\n    const url = \"/user/verifyEmail\";\n    try {\n      const response = await fetch(url, options);\n      const result = await response.json();\n      console.log(result);\n      if (result.data === \"verified\") {\n        return <Redirect to=\"/login\" />;\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        <input\n          type=\"text\"\n          name=\"otp\"\n          placeholder=\"emnter otp\"\n          onChange={this.onchange}\n        />\n        <br />\n        <button type=\"submit\" onClick={event => this.performVerify(event)}>\n          Submit\n        </button>\n        <hr />\n      </div>\n    );\n  }\n}\nexport default VerifyEmail;\n"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,QAAT,QAAyB,kBAAzB;;;IACMC,W;;;;;EACJ,qBAAYC,KAAZ,EAAmB;IAAA;;IAAA;;IACjB,0BAAMA,KAAN;;IADiB,MAUnBC,aAVmB;MAAA,sEAUH,iBAAMC,KAAN;QAAA;QAAA;UAAA;YAAA;cAAA;gBACdA,KAAK,CAACC,cAAN;gBAEIC,IAHU,GAGH;kBACTC,OAAO,EAAE,MAAKL,KAAL,CAAWM,KADX;kBAETC,GAAG,EAAE,MAAKC,KAAL,CAAWC;gBAFP,CAHG;gBAORC,OAPQ,GAOE;kBACdC,MAAM,EAAE,MADM;kBAEdC,OAAO,EAAE;oBACP,gBAAgB,kBADT;oBAEPC,MAAM,EAAE;kBAFD,CAFK;kBAMdC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeZ,IAAf;gBANQ,CAPF;gBAeRa,GAfQ,GAeF,mBAfE;gBAAA;gBAAA;gBAAA,OAiBWC,KAAK,CAACD,GAAD,EAAMP,OAAN,CAjBhB;;cAAA;gBAiBNS,QAjBM;gBAAA;gBAAA,OAkBSA,QAAQ,CAACC,IAAT,EAlBT;;cAAA;gBAkBNC,MAlBM;gBAmBZC,OAAO,CAACC,GAAR,CAAYF,MAAZ;;gBAnBY,MAoBRA,MAAM,CAACjB,IAAP,KAAgB,UApBR;kBAAA;kBAAA;gBAAA;;gBAAA,8CAqBH,QAAC,QAAD;kBAAU,EAAE,EAAC;gBAAb;kBAAA;kBAAA;kBAAA;gBAAA,iCArBG;;cAAA;gBAAA;gBAAA;;cAAA;gBAAA;gBAAA;gBAwBZkB,OAAO,CAACE,KAAR;;cAxBY;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAVG;;MAAA;QAAA;MAAA;IAAA;;IAEjB,MAAKhB,KAAL,GAAa;MACXD,GAAG,EAAE;IADM,CAAb;IAGA,MAAKkB,QAAL,GAAgB,MAAKA,QAAL,CAAcC,IAAd,+BAAhB;IALiB;EAMlB;;;;WACD,kBAASC,CAAT,EAAY;MACV,KAAKC,QAAL,qBAAiBD,CAAC,CAACE,MAAF,CAASC,IAA1B,EAAiCH,CAAC,CAACE,MAAF,CAASE,KAA1C;IACD;;;WA6BD,kBAAS;MAAA;;MACP,oBACE;QAAA,wBACE;UACE,IAAI,EAAC,MADP;UAEE,IAAI,EAAC,KAFP;UAGE,WAAW,EAAC,YAHd;UAIE,QAAQ,EAAE,KAAKN;QAJjB;UAAA;UAAA;UAAA;QAAA,QADF,eAOE;UAAA;UAAA;UAAA;QAAA,QAPF,eAQE;UAAQ,IAAI,EAAC,QAAb;UAAsB,OAAO,EAAE,iBAAAvB,KAAK;YAAA,OAAI,MAAI,CAACD,aAAL,CAAmBC,KAAnB,CAAJ;UAAA,CAApC;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QARF,eAWE;UAAA;UAAA;UAAA;QAAA,QAXF;MAAA;QAAA;QAAA;QAAA;MAAA,QADF;IAeD;;;;EAvDuBL,S;;AAyD1B,eAAeE,WAAf"},"metadata":{},"sourceType":"module"}