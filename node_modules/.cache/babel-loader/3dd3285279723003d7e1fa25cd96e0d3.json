{"ast":null,"code":"import _defineProperty from \"/srv/swarnika_new/top_q_website/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _regeneratorRuntime from \"/srv/swarnika_new/top_q_website/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/srv/swarnika_new/top_q_website/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/srv/swarnika_new/top_q_website/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/srv/swarnika_new/top_q_website/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _assertThisInitialized from \"/srv/swarnika_new/top_q_website/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"/srv/swarnika_new/top_q_website/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/srv/swarnika_new/top_q_website/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nvar _jsxFileName = \"/srv/swarnika_new/top_q_website/src/app/views/sessions/VerifyEmail.jsx\";\nimport React, { Component } from \"react\";\nimport { Navigate, useNavigate } from \"react-router-dom\";\nimport { Redirect } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar VerifyEmail = /*#__PURE__*/function (_Component) {\n  _inherits(VerifyEmail, _Component);\n\n  var _super = _createSuper(VerifyEmail);\n\n  function VerifyEmail(props) {\n    var _this;\n\n    _classCallCheck(this, VerifyEmail);\n\n    _this = _super.call(this, props);\n\n    _this.performVerify = /*#__PURE__*/function () {\n      var _s = $RefreshSig$();\n\n      var _ref = _asyncToGenerator(_s( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(event) {\n        var navigate, data, options, url, response, result;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _s();\n\n                navigate = useNavigate();\n                event.preventDefault();\n                data = {\n                  _id: _this.props._id,\n                  otp: _this.state.registrationotp\n                };\n                options = {\n                  method: \"POST\",\n                  headers: {\n                    \"Content-Type\": \"application/json\",\n                    Accept: \"application/json\"\n                  },\n                  body: JSON.stringify(data)\n                };\n                url = \"/user/verifyEmail\";\n                _context.prev = 6;\n                _context.next = 9;\n                return fetch(url, options);\n\n              case 9:\n                response = _context.sent;\n                _context.next = 12;\n                return response.json();\n\n              case 12:\n                result = _context.sent;\n                console.log(result);\n\n                if (result.data === \"verified\") {\n                  navigate(\"/session/reset-password\");\n                }\n\n                _context.next = 20;\n                break;\n\n              case 17:\n                _context.prev = 17;\n                _context.t0 = _context[\"catch\"](6);\n                console.error(_context.t0);\n\n              case 20:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[6, 17]]);\n      }), \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n        return [useNavigate];\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.state = {\n      otp: \"\"\n    };\n    _this.onchange = _this.onchange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(VerifyEmail, [{\n    key: \"onchange\",\n    value: function onchange(e) {\n      this.setState(_defineProperty({}, e.target.name, e.target.value));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"otp\",\n          placeholder: \"emnter otp\",\n          onChange: this.onchange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          onClick: function onClick(event) {\n            return _this2.performVerify(event);\n          },\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 7\n      }, this);\n    }\n  }]);\n\n  return VerifyEmail;\n}(Component);\n\nexport default VerifyEmail;","map":{"version":3,"names":["React","Component","Navigate","useNavigate","Redirect","VerifyEmail","props","performVerify","event","navigate","preventDefault","data","_id","otp","state","registrationotp","options","method","headers","Accept","body","JSON","stringify","url","fetch","response","json","result","console","log","error","onchange","bind","e","setState","target","name","value"],"sources":["/srv/swarnika_new/top_q_website/src/app/views/sessions/VerifyEmail.jsx"],"sourcesContent":["import React, { Component } from \"react\";\nimport { Navigate, useNavigate } from \"react-router-dom\";\nimport { Redirect } from \"react-router-dom\";\n\nclass VerifyEmail extends Component {\n  \n  constructor(props) {\n    super(props);\n    this.state = {\n      otp: \"\"\n    };\n    this.onchange = this.onchange.bind(this);\n  }\n  onchange(e) {\n    this.setState({ [e.target.name]: e.target.value });\n  }\n  performVerify = async event => {\n    const navigate=useNavigate();\n    event.preventDefault();\n\n    var data = {\n      _id: this.props._id,\n      otp: this.state.registrationotp\n    };\n    const options = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\"\n      },\n      body: JSON.stringify(data)\n    };\n    const url = \"/user/verifyEmail\";\n    try {\n      const response = await fetch(url, options);\n      const result = await response.json();\n      console.log(result);\n      if (result.data === \"verified\") {\n       navigate(\"/session/reset-password\");\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        <input\n          type=\"text\"\n          name=\"otp\"\n          placeholder=\"emnter otp\"\n          onChange={this.onchange}\n        />\n        <br />\n        <button type=\"submit\" onClick={event => this.performVerify(event)}>\n          Submit\n        </button>\n        <hr />\n      </div>\n    );\n  }\n}\nexport default VerifyEmail;"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,QAAT,EAAmBC,WAAnB,QAAsC,kBAAtC;AACA,SAASC,QAAT,QAAyB,kBAAzB;;;IAEMC,W;;;;;EAEJ,qBAAYC,KAAZ,EAAmB;IAAA;;IAAA;;IACjB,0BAAMA,KAAN;;IADiB,MAUnBC,aAVmB;MAAA;;MAAA,yEAUH,iBAAMC,KAAN;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;;gBACRC,QADQ,GACCN,WAAW,EADZ;gBAEdK,KAAK,CAACE,cAAN;gBAEIC,IAJU,GAIH;kBACTC,GAAG,EAAE,MAAKN,KAAL,CAAWM,GADP;kBAETC,GAAG,EAAE,MAAKC,KAAL,CAAWC;gBAFP,CAJG;gBAQRC,OARQ,GAQE;kBACdC,MAAM,EAAE,MADM;kBAEdC,OAAO,EAAE;oBACP,gBAAgB,kBADT;oBAEPC,MAAM,EAAE;kBAFD,CAFK;kBAMdC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeX,IAAf;gBANQ,CARF;gBAgBRY,GAhBQ,GAgBF,mBAhBE;gBAAA;gBAAA;gBAAA,OAkBWC,KAAK,CAACD,GAAD,EAAMP,OAAN,CAlBhB;;cAAA;gBAkBNS,QAlBM;gBAAA;gBAAA,OAmBSA,QAAQ,CAACC,IAAT,EAnBT;;cAAA;gBAmBNC,MAnBM;gBAoBZC,OAAO,CAACC,GAAR,CAAYF,MAAZ;;gBACA,IAAIA,MAAM,CAAChB,IAAP,KAAgB,UAApB,EAAgC;kBAC/BF,QAAQ,CAAC,yBAAD,CAAR;gBACA;;gBAvBW;gBAAA;;cAAA;gBAAA;gBAAA;gBAyBZmB,OAAO,CAACE,KAAR;;cAzBY;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAVG;QAAA,QAWF3B,WAXE;MAAA;;MAAA;QAAA;MAAA;IAAA;;IAEjB,MAAKW,KAAL,GAAa;MACXD,GAAG,EAAE;IADM,CAAb;IAGA,MAAKkB,QAAL,GAAgB,MAAKA,QAAL,CAAcC,IAAd,+BAAhB;IALiB;EAMlB;;;;WACD,kBAASC,CAAT,EAAY;MACV,KAAKC,QAAL,qBAAiBD,CAAC,CAACE,MAAF,CAASC,IAA1B,EAAiCH,CAAC,CAACE,MAAF,CAASE,KAA1C;IACD;;;WA8BD,kBAAS;MAAA;;MACP,oBACE;QAAA,wBACE;UACE,IAAI,EAAC,MADP;UAEE,IAAI,EAAC,KAFP;UAGE,WAAW,EAAC,YAHd;UAIE,QAAQ,EAAE,KAAKN;QAJjB;UAAA;UAAA;UAAA;QAAA,QADF,eAOE;UAAA;UAAA;UAAA;QAAA,QAPF,eAQE;UAAQ,IAAI,EAAC,QAAb;UAAsB,OAAO,EAAE,iBAAAvB,KAAK;YAAA,OAAI,MAAI,CAACD,aAAL,CAAmBC,KAAnB,CAAJ;UAAA,CAApC;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QARF,eAWE;UAAA;UAAA;UAAA;QAAA,QAXF;MAAA;QAAA;QAAA;QAAA;MAAA,QADF;IAeD;;;;EAzDuBP,S;;AA2D1B,eAAeI,WAAf"},"metadata":{},"sourceType":"module"}