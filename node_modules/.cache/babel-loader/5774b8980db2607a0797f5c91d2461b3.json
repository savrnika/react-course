{"ast":null,"code":"import _defineProperty from \"/srv/swarnika_new/top_q_website/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _regeneratorRuntime from \"/srv/swarnika_new/top_q_website/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/srv/swarnika_new/top_q_website/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/srv/swarnika_new/top_q_website/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/srv/swarnika_new/top_q_website/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _assertThisInitialized from \"/srv/swarnika_new/top_q_website/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"/srv/swarnika_new/top_q_website/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/srv/swarnika_new/top_q_website/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nvar _jsxFileName = \"/srv/swarnika_new/top_q_website/src/app/views/sessions/VerifyEmail.jsx\";\nimport { postClient } from \"app/apis/apiMethods\";\nimport React, { Component } from \"react\";\nimport { Navigate } from \"react-router-dom\";\nimport { Redirect } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar VerifyEmail = /*#__PURE__*/function (_Component) {\n  _inherits(VerifyEmail, _Component);\n\n  var _super = _createSuper(VerifyEmail);\n\n  function VerifyEmail(props) {\n    var _this;\n\n    _classCallCheck(this, VerifyEmail);\n\n    _this = _super.call(this, props);\n\n    _this.performVerify = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(event) {\n        var data, options, url, response, result;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                event.preventDefault();\n                data = {\n                  _id: _this.props.userId,\n                  otp: _this.state.otp\n                };\n                console.log(\"data\", data);\n                options = {\n                  method: \"POST\",\n                  headers: {\n                    \"Content-Type\": \"application/json\",\n                    Accept: \"application/json\"\n                  },\n                  body: JSON.stringify(data)\n                };\n                url = \"/user/verifyEmail\";\n                _context.prev = 5;\n                _context.next = 8;\n                return postClient(data);\n\n              case 8:\n                response = _context.sent;\n                _context.next = 11;\n                return response.json();\n\n              case 11:\n                result = _context.sent;\n                console.log(result);\n\n                if (!(result.data === \"verified\")) {\n                  _context.next = 15;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", /*#__PURE__*/_jsxDEV(Redirect, {\n                  to: \"/session/reset-password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 43,\n                  columnNumber: 16\n                }, _assertThisInitialized(_this)));\n\n              case 15:\n                _context.next = 20;\n                break;\n\n              case 17:\n                _context.prev = 17;\n                _context.t0 = _context[\"catch\"](5);\n                console.error(_context.t0);\n\n              case 20:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[5, 17]]);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.state = {\n      otp: \"\"\n    };\n    _this.onchange = _this.onchange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(VerifyEmail, [{\n    key: \"onchange\",\n    value: function onchange(e) {\n      this.setState(_defineProperty({}, e.target.name, e.target.value));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      console.log(\"data===\", this.props.userId);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"otp\",\n          placeholder: \"emnter otp\",\n          onChange: this.onchange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          onClick: function onClick(event) {\n            return _this2.performVerify(event);\n          },\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 7\n      }, this);\n    }\n  }]);\n\n  return VerifyEmail;\n}(Component);\n\nexport default VerifyEmail;","map":{"version":3,"names":["postClient","React","Component","Navigate","Redirect","VerifyEmail","props","performVerify","event","preventDefault","data","_id","userId","otp","state","console","log","options","method","headers","Accept","body","JSON","stringify","url","response","json","result","error","onchange","bind","e","setState","target","name","value"],"sources":["/srv/swarnika_new/top_q_website/src/app/views/sessions/VerifyEmail.jsx"],"sourcesContent":["import { postClient } from \"app/apis/apiMethods\";\nimport React, { Component } from \"react\";\nimport { Navigate } from \"react-router-dom\";\nimport { Redirect } from \"react-router-dom\";\n\n\nclass VerifyEmail extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      otp: \"\"\n    };\n    this.onchange = this.onchange.bind(this);\n  }\n  onchange(e) {\n    this.setState({ [e.target.name]: e.target.value });\n  }\n\n  performVerify = async event => {\n    event.preventDefault();\n\n    var data = {\n      _id: this.props.userId,\n      otp: this.state.otp\n\n    };\n\n    console.log(\"data\",data)\n    const options = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\"\n      },\n      body: JSON.stringify(data)\n    };\n    const url = \"/user/verifyEmail\";\n    try {\n      const response = await postClient(data);\n      const result = await response.json();\n      console.log(result);\n      if (result.data === \"verified\") {\n        return <Redirect to=\"/session/reset-password\" />;\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  \n\n  render() {\n    console.log(\"data===\",this.props.userId)\n    return (\n      <div>\n        <input\n          type=\"text\"\n          name=\"otp\"\n          placeholder=\"emnter otp\"\n          onChange={this.onchange}\n        />\n        <br />\n        <button type=\"submit\" onClick={event => this.performVerify(event)}>\n          Submit\n        </button>\n        <hr />\n      </div>\n    );\n  }\n}\nexport default VerifyEmail;"],"mappings":";;;;;;;;;AAAA,SAASA,UAAT,QAA2B,qBAA3B;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,SAASC,QAAT,QAAyB,kBAAzB;;;IAGMC,W;;;;;EACJ,qBAAYC,KAAZ,EAAmB;IAAA;;IAAA;;IACjB,0BAAMA,KAAN;;IADiB,MAWnBC,aAXmB;MAAA,sEAWH,iBAAMC,KAAN;QAAA;QAAA;UAAA;YAAA;cAAA;gBACdA,KAAK,CAACC,cAAN;gBAEIC,IAHU,GAGH;kBACTC,GAAG,EAAE,MAAKL,KAAL,CAAWM,MADP;kBAETC,GAAG,EAAE,MAAKC,KAAL,CAAWD;gBAFP,CAHG;gBASdE,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAmBN,IAAnB;gBACMO,OAVQ,GAUE;kBACdC,MAAM,EAAE,MADM;kBAEdC,OAAO,EAAE;oBACP,gBAAgB,kBADT;oBAEPC,MAAM,EAAE;kBAFD,CAFK;kBAMdC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeb,IAAf;gBANQ,CAVF;gBAkBRc,GAlBQ,GAkBF,mBAlBE;gBAAA;gBAAA;gBAAA,OAoBWxB,UAAU,CAACU,IAAD,CApBrB;;cAAA;gBAoBNe,QApBM;gBAAA;gBAAA,OAqBSA,QAAQ,CAACC,IAAT,EArBT;;cAAA;gBAqBNC,MArBM;gBAsBZZ,OAAO,CAACC,GAAR,CAAYW,MAAZ;;gBAtBY,MAuBRA,MAAM,CAACjB,IAAP,KAAgB,UAvBR;kBAAA;kBAAA;gBAAA;;gBAAA,8CAwBH,QAAC,QAAD;kBAAU,EAAE,EAAC;gBAAb;kBAAA;kBAAA;kBAAA;gBAAA,iCAxBG;;cAAA;gBAAA;gBAAA;;cAAA;gBAAA;gBAAA;gBA2BZK,OAAO,CAACa,KAAR;;cA3BY;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAXG;;MAAA;QAAA;MAAA;IAAA;;IAEjB,MAAKd,KAAL,GAAa;MACXD,GAAG,EAAE;IADM,CAAb;IAGA,MAAKgB,QAAL,GAAgB,MAAKA,QAAL,CAAcC,IAAd,+BAAhB;IALiB;EAMlB;;;;WACD,kBAASC,CAAT,EAAY;MACV,KAAKC,QAAL,qBAAiBD,CAAC,CAACE,MAAF,CAASC,IAA1B,EAAiCH,CAAC,CAACE,MAAF,CAASE,KAA1C;IACD;;;WAkCD,kBAAS;MAAA;;MACPpB,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAsB,KAAKV,KAAL,CAAWM,MAAjC;MACA,oBACE;QAAA,wBACE;UACE,IAAI,EAAC,MADP;UAEE,IAAI,EAAC,KAFP;UAGE,WAAW,EAAC,YAHd;UAIE,QAAQ,EAAE,KAAKiB;QAJjB;UAAA;UAAA;UAAA;QAAA,QADF,eAOE;UAAA;UAAA;UAAA;QAAA,QAPF,eAQE;UAAQ,IAAI,EAAC,QAAb;UAAsB,OAAO,EAAE,iBAAArB,KAAK;YAAA,OAAI,MAAI,CAACD,aAAL,CAAmBC,KAAnB,CAAJ;UAAA,CAApC;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QARF,eAWE;UAAA;UAAA;UAAA;QAAA,QAXF;MAAA;QAAA;QAAA;QAAA;MAAA,QADF;IAeD;;;;EA7DuBN,S;;AA+D1B,eAAeG,WAAf"},"metadata":{},"sourceType":"module"}